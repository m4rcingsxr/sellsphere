<!DOCTYPE html>
<html lang="en">
<head th:replace="~{form_fragments :: head_with_editor(${pageTitle})}"></head>
<body>
<header th:replace="~{navigations :: header()}"></header>

<main class="content">
    <div class="container-md mt-4">

        <div th:replace="~{common :: alerts()}"></div>

        <h2 class="text-center mt-4" th:text="${pageTitle}"></h2>

        <form id="mainForm" class="mt-4" enctype="multipart/form-data" method="POST" th:action="@{/settings/save}">

            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="overview-tab" data-bs-toggle="tab"
                            data-bs-target="#overview-tab-pane" type="button" role="tab"
                            aria-controls="overview-tab-pane" aria-selected="true">General
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="country-tab" data-bs-toggle="tab"
                            data-bs-target="#country-tab-pane" type="button" role="tab"
                            aria-controls="country-tab-pane" aria-selected="true">Country
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="state-tab" data-bs-toggle="tab"
                            data-bs-target="#state-tab-pane" type="button" role="tab"
                            aria-controls="state-tab-pane" aria-selected="true">State
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="mail-server-tab" data-bs-toggle="tab"
                            data-bs-target="#mail-server-tab-pane" type="button" role="tab"
                            aria-controls="mail-server-tab-pane" aria-selected="true">Mail server
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="mail-template-tab" data-bs-toggle="tab"
                            data-bs-target="#mail-template-tab-pane" type="button" role="tab"
                            aria-controls="mail-template-tab-pane" aria-selected="true">Mail template
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="myTabContent">
                <div th:insert="~{setting/general_settings :: general()}" class="tab-pane fade show active"
                     id="overview-tab-pane" role="tabpanel" aria-labelledby="overview-tab" tabindex="0"></div>
                <div th:insert="~{setting/country_settings :: country()}" class="tab-pane fade"
                     id="country-tab-pane" role="tabpanel" aria-labelledby="country-tab" tabindex="0"></div>
                <div th:insert="~{setting/state_settings :: state()}" class="tab-pane fade"
                     id="state-tab-pane" role="tabpanel" aria-labelledby="state-tab" tabindex="0"></div>
                <div th:insert="~{setting/mail_server_settings :: mail_server()}" class="tab-pane fade"
                     id="mail-server-tab-pane" role="tabpanel" aria-labelledby="mail-server-tab" tabindex="0"></div>
                <div th:insert="~{setting/mail_template_settings :: mail_template()}" class="tab-pane fade"
                     id="mail-template-tab-pane" role="tabpanel" aria-labelledby="mail-template-tab" tabindex="0"></div>
            </div>
        </form>

    </div>
</main>

<footer th:replace="~{navigations :: footer()}"></footer>

<div th:replace="~{modal_fragments :: close_modal('errorModal')}"></div>

<script type="text/javascript" th:src="@{/js/settings_common.js}"></script>
<script type="text/javascript" th:src="@{/js/settings_country.js}"></script>
<script type="text/javascript" th:src="@{/js/settings_state.js}"></script>
<script type="text/javascript" th:src="@{/js/settings_mail_template.js}"></script>
<script type="text/javascript">
    const MAX_FILE_SIZE = 5 * 1024 * 1024;
    const WIDTH = 700;
    const HEIGHT = 700;
    const QUALITY = 1;

    const MODULE_URL = "[[@{/}]]";
</script>
</body>
</html>