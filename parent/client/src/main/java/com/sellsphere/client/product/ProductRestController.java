package com.sellsphere.client.product;import jakarta.validation.Valid;import lombok.RequiredArgsConstructor;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.Map;// filter=name,'value, description with commas'// filter=name1,value1&filter=name2,value2@RestController@RequestMapping("/filter")@RequiredArgsConstructorpublic class ProductRestController {    private final ProductService productService;    // validated by argument resolver    @GetMapping("/products")    public ResponseEntity<ProductPageResponse> pageFilteredProducts(            @ProductFilter ProductPageRequest pageRequest    ) {        ProductPageResponse page = productService.listProducts(pageRequest);        return ResponseEntity.ok(page);    }    // validated by argument resolver    @GetMapping("/filter_counts")    public ResponseEntity<Map<String, Map<String, Long>>> getFilterMapCount(            @Valid @ProductFilter FilterMapCountRequest mapRequest    ) {        Map<String, Map<String, Long>> allFilterCounts = productService.calculateAllFilterCounts(mapRequest);        return ResponseEntity.ok(allFilterCounts);    }}